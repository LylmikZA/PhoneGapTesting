<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
	<title>Page 1</title>
	<link rel="stylesheet" href="css/jquery.mobile-1.4.5.min.css" />
</head>
<body>
	<div data-role="page">
		<div data-role="navbar">
			<ul>
				<li><a href="#" onclick="goBack()" data-icon="back">Back</a></li>
				<li><a href="#" data-icon="home">Languages</a></li>
				<li><a href="#" data-icon="search">Database</a></li>
			</ul>
		</div>
		<div data-role="header">
			<h1>Location</h1>
		</div>

		<div id='locationInfo'>Loading location...</div>
		
	</div>

	<script type="text/javascript">
		document.addEventListener('deviceready', onDeviceReady, false);

		function onDeviceReady() {
			document.addEventListener("backbutton", BackKeyDown, true);

			var options = {maximumAge: 3000, timeout: 5000, enableHighAccuracy: true };
			navigator.geolocation.getCurrentPosition(onSuccess, onFailure, options);
			navigator.geolocation.watchPosition(onSuccess, onFailure, options);

			
		}

		function onSuccess(position) {
			console.log('Coordinates: ' + position.coords);
			console.log('Timestamp: ' + position.timestamp);
			var element = document.getElementById('locationInfo');
			element.innerHTML = 'Location: ' +  position.coords + 
			'<br />' + 'Timestamp: ' + position.timestamp + '<br />';
		}

		function onError(error) {
			console.log('message: ' + error.message);
			console.log ('code: ' + error.code);
			var element = document.getElementById('locationInfo');
			element.innerHTML = 'Error: ' +  error.message + 
			'<br />' + 'Code: ' + error.code + '<br />';
		}

		function goBack()
		{
			// alert("go to page 1");
			window.location = "index.html";
		}

		function BackKeyDown()
		{
			console.log("Back Pressed");
		}
	</script>
	<script type="text/javascript" src="cordova.js"></script>
	<script src="js/jquery-1.11.1.min.js"></script>
	<script src="js/jquery.mobile-1.4.5.min.js"></script>
</body>
</html>